mode "text"

;
; Eratosthenes' sieve for prime numbers
;

; ask for the upper limit
upper = num(input("How high? "))

; create a list to mark non-primes
marked = []

; start at 2 (the first prime number)
i = 2

; count from i until we hit the upper limit
while i <= upper do
  ; the value i has not been marked as non-prime
  print "{i} is prime"

  ; count from i^2 to the upper limit in multiples of i
  ; (this marks all multiples of i as non-prime)
  ; (bonus: why can we start at i^2 instead of i?)
  for j = i^2 to upper by i do marked[j] = true

  ; skip over the current i because it's prime
  i = i + 1

  ; skip over everything that has been marked as non-prime
  while marked[i] do i = i + 1
end
