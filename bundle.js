!function t(n,e,r){function u(o,s){if(!e[o]){if(!n[o]){var a="function"==typeof require&&require;if(!s&&a)return a(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=e[o]={exports:{}};n[o][0].call(l.exports,function(t){var e=n[o][1][t];return u(e?e:t)},l,l.exports,t,n,e,r)}return e[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)u(r[o]);return u}({1:[function(t){$(function(){var n=t("./start-lang"),e=t("./start-lib");window.prompt=ace.edit("prompt"),prompt.setTheme("ace/theme/textmate"),prompt.setShowFoldWidgets(!1),prompt.getSession().setTabSize(2),prompt.getSession().setUseSoftTabs(!0),prompt.getSession().setMode("ace/mode/pascal"),window.terminal=$("#terminal"),terminal.terminal(function(t){console.log(t),terminal.pause()},{greetings:!1,outputLimit:1e3,prompt:"> "}),terminal.pause(),e._globals.print=function(){arguments.length>0?Array.prototype.forEach.call(arguments,function(t){terminal.echo("&#8702; "+e._handle(t).repr(t))}):terminal.echo()},e._globals.clear=function(){terminal.clear()};var r=e.createEnv(),u=function(){var t=prompt.getValue().trim();t&&(terminal.echo("&#8701; "+t.replace(/\n/g,"\n   "),{finalize:function(t){t.css("color","#888")}}),n.parse(t+"\n").run(r),terminal.echo(""),prompt.setValue(""),prompt.focus())};$("#runner").click(u),prompt.commands.addCommand({name:"runSnippet",bindKey:{win:"Ctrl-Return",mac:"Command-Return"},exec:u})})},{"./start-lang":2,"./start-lib":3}],2:[function(t,n){n.exports=function(){function n(t,n){function e(){this.constructor=t}e.prototype=n.prototype,t.prototype=new e}function e(t,n,e,r,u,i){this.message=t,this.expected=n,this.found=e,this.offset=r,this.line=u,this.column=i,this.name="SyntaxError"}function r(n){function r(){return n.substring(Ar,xr)}function u(){return Ar}function i(){return s(Ar).line}function o(){return s(Ar).column}function s(t){function e(t,e,r){var u,i;for(u=e;r>u;u++)i=n.charAt(u),"\n"===i?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}return wr!==t&&(wr>t&&(wr=0,Cr={line:1,column:1,seenCR:!1}),e(Cr,wr,t),wr=t),Cr}function a(t){$r>xr||(xr>$r&&($r=xr,_r=[]),_r.push(t))}function c(t,r,u){function i(t){var n=1;for(t.sort(function(t,n){return t.description<n.description?-1:t.description>n.description?1:0});n<t.length;)t[n-1]===t[n]?t.splice(n,1):n++}function o(t,n){function e(t){function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+n(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+n(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+n(t)})}var r,u,i,o=new Array(t.length);for(i=0;i<t.length;i++)o[i]=t[i].description;return r=t.length>1?o.slice(0,-1).join(", ")+" or "+o[t.length-1]:o[0],u=n?'"'+e(n)+'"':"end of input","Expected "+r+" but "+u+" found."}var a=s(u),c=u<n.length?n.charAt(u):null;return null!==r&&i(r),new e(null!==t?t:o(r,c),r,c,u,a.line,a.column)}function l(){var t;return t=f()}function f(){var t,n,e,r;for(t=xr,n=[],e=K();e!==Z;)n.push(e),e=K();if(n!==Z){for(e=[],r=p();r!==Z;)e.push(r),r=p();e!==Z?(Ar=t,n=rn(e),t=n):(xr=t,t=en)}else xr=t,t=en;return t}function p(){var t;return t=h(),t===Z&&(t=d(),t===Z&&(t=v(),t===Z&&(t=y(),t===Z&&(t=b(),t===Z&&(t=g()))))),t}function h(){var t,e,r,u,i,o,s,c,l,p,h,d,v;return t=xr,e=V(),e!==Z?(n.substr(xr,2)===un?(r=un,xr+=2):(r=Z,0===jr&&a(on)),r!==Z?(u=I(),u!==Z?(i=V(),i!==Z?(o=x(),o!==Z?(s=K(),s!==Z?(c=f(),c!==Z?(l=xr,p=V(),p!==Z?(n.substr(xr,4)===an?(h=an,xr+=4):(h=Z,0===jr&&a(cn)),h!==Z?(d=K(),d!==Z?(v=f(),v!==Z?(Ar=l,p=ln(v),l=p):(xr=l,l=en)):(xr=l,l=en)):(xr=l,l=en)):(xr=l,l=en),l===Z&&(l=sn),l!==Z?(p=V(),p!==Z?(n.substr(xr,3)===fn?(h=fn,xr+=3):(h=Z,0===jr&&a(pn)),h!==Z?(d=K(),d!==Z?(Ar=t,e=hn(o,c,l),t=e):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en),t}function d(){var t,e,r,u,i,o,s,c,l,p,h,d,v,y,b,g;return t=xr,e=V(),e!==Z?(n.substr(xr,3)===dn?(r=dn,xr+=3):(r=Z,0===jr&&a(vn)),r!==Z?(u=I(),u!==Z?(i=V(),i!==Z?(o=B(),o!==Z?(s=V(),s!==Z?(n.substr(xr,2)===yn?(c=yn,xr+=2):(c=Z,0===jr&&a(bn)),c!==Z?(l=I(),l!==Z?(p=V(),p!==Z?(h=x(),h!==Z?(d=K(),d!==Z?(v=f(),v!==Z?(y=V(),y!==Z?(n.substr(xr,3)===fn?(b=fn,xr+=3):(b=Z,0===jr&&a(pn)),b!==Z?(g=K(),g!==Z?(Ar=t,e=gn(o,h,v),t=e):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en),t}function v(){var t,e,r,u,i,o,s,c,l,p,h;return t=xr,e=V(),e!==Z?(n.substr(xr,5)===mn?(r=mn,xr+=5):(r=Z,0===jr&&a(xn)),r!==Z?(u=I(),u!==Z?(i=V(),i!==Z?(o=B(),o!==Z?(s=K(),s!==Z?(c=f(),c!==Z?(l=V(),l!==Z?(n.substr(xr,3)===fn?(p=fn,xr+=3):(p=Z,0===jr&&a(pn)),p!==Z?(h=K(),h!==Z?(Ar=t,e=An(o,c),t=e):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en),t}function y(){var t,e,r,u,i,o,s,c,l,f,p,h,d;if(t=xr,e=V(),e!==Z)if(n.substr(xr,3)===wn?(r=wn,xr+=3):(r=Z,0===jr&&a(Cn)),r!==Z)if(u=I(),u!==Z)if(i=V(),i!==Z)if(o=B(),o!==Z){for(s=[],c=xr,l=V(),l!==Z?(91===n.charCodeAt(xr)?(f=$n,xr++):(f=Z,0===jr&&a(_n)),f!==Z?(p=V(),p!==Z?(h=x(),h!==Z?(93===n.charCodeAt(xr)?(d=jn,xr++):(d=Z,0===jr&&a(En)),d!==Z?(Ar=c,l=On(h),c=l):(xr=c,c=en)):(xr=c,c=en)):(xr=c,c=en)):(xr=c,c=en)):(xr=c,c=en);c!==Z;)s.push(c),c=xr,l=V(),l!==Z?(91===n.charCodeAt(xr)?(f=$n,xr++):(f=Z,0===jr&&a(_n)),f!==Z?(p=V(),p!==Z?(h=x(),h!==Z?(93===n.charCodeAt(xr)?(d=jn,xr++):(d=Z,0===jr&&a(En)),d!==Z?(Ar=c,l=On(h),c=l):(xr=c,c=en)):(xr=c,c=en)):(xr=c,c=en)):(xr=c,c=en)):(xr=c,c=en);s!==Z?(c=V(),c!==Z?(61===n.charCodeAt(xr)?(l=kn,xr++):(l=Z,0===jr&&a(Fn)),l!==Z?(f=V(),f!==Z?(p=x(),p!==Z?(h=K(),h!==Z?(Ar=t,e=Sn(o,s,p),t=e):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)}else xr=t,t=en;else xr=t,t=en;else xr=t,t=en;else xr=t,t=en;else xr=t,t=en;return t}function b(){var t,e,r,u,i,o,s;return t=xr,e=V(),e!==Z?(r=xr,n.substr(xr,4)===Rn?(u=Rn,xr+=4):(u=Z,0===jr&&a(zn)),u!==Z?(i=I(),i!==Z?(o=V(),o!==Z?(s=R(),s!==Z?(Ar=r,u=Mn(s),r=u):(xr=r,r=en)):(xr=r,r=en)):(xr=r,r=en)):(xr=r,r=en),r===Z&&(r=xr,u=B(),u!==Z&&(Ar=r,u=Pn(u)),r=u),r!==Z?(u=xr,i=V(),i!==Z?(o=m(),o===Z&&(o=sn),o!==Z?(s=V(),s!==Z?(Ar=u,i=On(o),u=i):(xr=u,u=en)):(xr=u,u=en)):(xr=u,u=en),u===Z&&(u=sn),u!==Z?(i=K(),i!==Z?(Ar=t,e=qn(r,u),t=e):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en),t}function g(){var t,e,r,u,i,o,s;if(t=xr,e=V(),e!==Z)if(n.substr(xr,2)===Un?(r=Un,xr+=2):(r=Z,0===jr&&a(Tn)),r!==Z)if(u=V(),u!==Z){for(i=xr,o=[],Ln.test(n.charAt(xr))?(s=n.charAt(xr),xr++):(s=Z,0===jr&&a(Nn));s!==Z;)o.push(s),Ln.test(n.charAt(xr))?(s=n.charAt(xr),xr++):(s=Z,0===jr&&a(Nn));o!==Z&&(o=n.substring(i,xr)),i=o,i!==Z?(o=K(),o!==Z?(Ar=t,e=Bn(i),t=e):(xr=t,t=en)):(xr=t,t=en)}else xr=t,t=en;else xr=t,t=en;else xr=t,t=en;return t}function m(){var t,e,r,u,i,o,s,c;if(t=xr,e=x(),e!==Z){for(r=[],u=xr,i=V(),i!==Z?(44===n.charCodeAt(xr)?(o=Dn,xr++):(o=Z,0===jr&&a(In)),o!==Z?(s=V(),s!==Z?(c=x(),c!==Z?(Ar=u,i=Vn(c),u=i):(xr=u,u=en)):(xr=u,u=en)):(xr=u,u=en)):(xr=u,u=en);u!==Z;)r.push(u),u=xr,i=V(),i!==Z?(44===n.charCodeAt(xr)?(o=Dn,xr++):(o=Z,0===jr&&a(In)),o!==Z?(s=V(),s!==Z?(c=x(),c!==Z?(Ar=u,i=Vn(c),u=i):(xr=u,u=en)):(xr=u,u=en)):(xr=u,u=en)):(xr=u,u=en);r!==Z?(Ar=t,e=Kn(e,r),t=e):(xr=t,t=en)}else xr=t,t=en;return t}function x(){var t;return t=A(),t===Z&&(t=j()),t}function A(){var t,n,e,r,u,i,o,s;if(t=xr,n=C(),n!==Z){for(e=[],r=xr,u=V(),u!==Z?(i=w(),i!==Z?(o=V(),o!==Z?(s=C(),s!==Z?(Ar=r,u=Wn(i,s),r=u):(xr=r,r=en)):(xr=r,r=en)):(xr=r,r=en)):(xr=r,r=en);r!==Z;)e.push(r),r=xr,u=V(),u!==Z?(i=w(),i!==Z?(o=V(),o!==Z?(s=C(),s!==Z?(Ar=r,u=Wn(i,s),r=u):(xr=r,r=en)):(xr=r,r=en)):(xr=r,r=en)):(xr=r,r=en);e!==Z?(Ar=t,n=Gn(n,e),t=n):(xr=t,t=en)}else xr=t,t=en;return t}function w(){var t,e,r;return t=xr,n.substr(xr,3)===Hn?(e=Hn,xr+=3):(e=Z,0===jr&&a(Jn)),e!==Z?(r=I(),r!==Z?(Ar=t,e=Qn(),t=e):(xr=t,t=en)):(xr=t,t=en),t===Z&&(t=xr,n.substr(xr,2)===Xn?(e=Xn,xr+=2):(e=Z,0===jr&&a(Yn)),e!==Z?(r=I(),r!==Z?(Ar=t,e=Zn(),t=e):(xr=t,t=en)):(xr=t,t=en)),t}function C(){var t,e,r,u,i;return t=xr,n.substr(xr,3)===te?(e=te,xr+=3):(e=Z,0===jr&&a(ne)),e!==Z?(r=I(),r!==Z?(u=V(),u!==Z?(i=$(),i!==Z?(Ar=t,e=ee(i),t=e):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en),t===Z&&(t=$()),t}function $(){var t,e,r,u,i,o;return t=xr,e=j(),e!==Z?(r=V(),r!==Z?(u=_(),u!==Z?(i=V(),i!==Z?(o=j(),o!==Z?(Ar=t,e=re(e,u,o),t=e):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en),t===Z&&(t=xr,40===n.charCodeAt(xr)?(e=ue,xr++):(e=Z,0===jr&&a(ie)),e!==Z?(r=V(),r!==Z?(u=A(),u!==Z?(i=V(),i!==Z?(41===n.charCodeAt(xr)?(o=oe,xr++):(o=Z,0===jr&&a(se)),o!==Z?(Ar=t,e=ae(u),t=e):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)),t}function _(){var t;return 61===n.charCodeAt(xr)?(t=kn,xr++):(t=Z,0===jr&&a(Fn)),t===Z&&(n.substr(xr,2)===ce?(t=ce,xr+=2):(t=Z,0===jr&&a(le)),t===Z&&(n.substr(xr,2)===fe?(t=fe,xr+=2):(t=Z,0===jr&&a(pe)),t===Z&&(60===n.charCodeAt(xr)?(t=he,xr++):(t=Z,0===jr&&a(de)),t===Z&&(n.substr(xr,2)===ve?(t=ve,xr+=2):(t=Z,0===jr&&a(ye)),t===Z&&(62===n.charCodeAt(xr)?(t=be,xr++):(t=Z,0===jr&&a(ge))))))),t}function j(){var t,n,e,r,u,i,o,s;if(t=xr,n=O(),n!==Z){for(e=[],r=xr,u=V(),u!==Z?(i=E(),i!==Z?(o=V(),o!==Z?(s=O(),s!==Z?(Ar=r,u=Wn(i,s),r=u):(xr=r,r=en)):(xr=r,r=en)):(xr=r,r=en)):(xr=r,r=en);r!==Z;)e.push(r),r=xr,u=V(),u!==Z?(i=E(),i!==Z?(o=V(),o!==Z?(s=O(),s!==Z?(Ar=r,u=Wn(i,s),r=u):(xr=r,r=en)):(xr=r,r=en)):(xr=r,r=en)):(xr=r,r=en);e!==Z?(Ar=t,n=me(n,e),t=n):(xr=t,t=en)}else xr=t,t=en;return t}function E(){var t;return 43===n.charCodeAt(xr)?(t=xe,xr++):(t=Z,0===jr&&a(Ae)),t===Z&&(45===n.charCodeAt(xr)?(t=we,xr++):(t=Z,0===jr&&a(Ce))),t}function O(){var t,n,e,r,u,i,o,s;if(t=xr,n=F(),n!==Z){for(e=[],r=xr,u=V(),u!==Z?(i=k(),i!==Z?(o=V(),o!==Z?(s=F(),s!==Z?(Ar=r,u=Wn(i,s),r=u):(xr=r,r=en)):(xr=r,r=en)):(xr=r,r=en)):(xr=r,r=en);r!==Z;)e.push(r),r=xr,u=V(),u!==Z?(i=k(),i!==Z?(o=V(),o!==Z?(s=F(),s!==Z?(Ar=r,u=Wn(i,s),r=u):(xr=r,r=en)):(xr=r,r=en)):(xr=r,r=en)):(xr=r,r=en);e!==Z?(Ar=t,n=me(n,e),t=n):(xr=t,t=en)}else xr=t,t=en;return t}function k(){var t;return 42===n.charCodeAt(xr)?(t=$e,xr++):(t=Z,0===jr&&a(_e)),t===Z&&(47===n.charCodeAt(xr)?(t=je,xr++):(t=Z,0===jr&&a(Ee)),t===Z&&(37===n.charCodeAt(xr)?(t=Oe,xr++):(t=Z,0===jr&&a(ke)))),t}function F(){var t,n,e,r;return t=xr,n=E(),n!==Z?(e=V(),e!==Z?(r=U(),r!==Z?(Ar=t,n=Fe(n,r),t=n):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en),t===Z&&(t=xr,n=E(),n!==Z?(e=V(),e!==Z?(r=S(),r!==Z?(Ar=t,n=Se(n,r),t=n):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en),t===Z&&(t=S())),t}function S(){var t,e,r,u,i,o,s,c;return t=xr,e=R(),e!==Z?(r=V(),r!==Z?(40===n.charCodeAt(xr)?(u=ue,xr++):(u=Z,0===jr&&a(ie)),u!==Z?(i=V(),i!==Z?(o=m(),o===Z&&(o=sn),o!==Z?(s=V(),s!==Z?(41===n.charCodeAt(xr)?(c=oe,xr++):(c=Z,0===jr&&a(se)),c!==Z?(Ar=t,e=qn(e,o),t=e):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en),t===Z&&(t=R()),t}function R(){var t,e,r,u,i,o,s,c,l;if(t=xr,e=B(),e!==Z){for(r=[],u=xr,i=V(),i!==Z?(91===n.charCodeAt(xr)?(o=$n,xr++):(o=Z,0===jr&&a(_n)),o!==Z?(s=V(),s!==Z?(c=x(),c!==Z?(93===n.charCodeAt(xr)?(l=jn,xr++):(l=Z,0===jr&&a(En)),l!==Z?(Ar=u,i=Re(c),u=i):(xr=u,u=en)):(xr=u,u=en)):(xr=u,u=en)):(xr=u,u=en)):(xr=u,u=en);u!==Z;)r.push(u),u=xr,i=V(),i!==Z?(91===n.charCodeAt(xr)?(o=$n,xr++):(o=Z,0===jr&&a(_n)),o!==Z?(s=V(),s!==Z?(c=x(),c!==Z?(93===n.charCodeAt(xr)?(l=jn,xr++):(l=Z,0===jr&&a(En)),l!==Z?(Ar=u,i=Re(c),u=i):(xr=u,u=en)):(xr=u,u=en)):(xr=u,u=en)):(xr=u,u=en)):(xr=u,u=en);r!==Z?(Ar=t,e=ze(e,r),t=e):(xr=t,t=en)}else xr=t,t=en;return t===Z&&(t=z()),t}function z(){var t,e,r,u,i,o;return t=xr,e=M(),e!==Z&&(Ar=t,e=Me(e)),t=e,t===Z&&(t=xr,40===n.charCodeAt(xr)?(e=ue,xr++):(e=Z,0===jr&&a(ie)),e!==Z?(r=V(),r!==Z?(u=x(),u!==Z?(i=V(),i!==Z?(41===n.charCodeAt(xr)?(o=oe,xr++):(o=Z,0===jr&&a(se)),o!==Z?(Ar=t,e=Pe(u),t=e):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)):(xr=t,t=en)),t}function M(){var t;return t=P(),t===Z&&(t=q(),t===Z&&(t=U(),t===Z&&(t=L()))),t}function P(){var t,e,r;return t=xr,n.substr(xr,4)===qe?(e=qe,xr+=4):(e=Z,0===jr&&a(Ue)),e!==Z?(r=I(),r!==Z?(Ar=t,e=Te(),t=e):(xr=t,t=en)):(xr=t,t=en),t}function q(){var t,e,r;return t=xr,n.substr(xr,4)===Le?(e=Le,xr+=4):(e=Z,0===jr&&a(Ne)),e!==Z?(r=I(),r!==Z?(Ar=t,e=Be(),t=e):(xr=t,t=en)):(xr=t,t=en),t===Z&&(t=xr,n.substr(xr,5)===De?(e=De,xr+=5):(e=Z,0===jr&&a(Ie)),e!==Z?(r=I(),r!==Z?(Ar=t,e=Ve(),t=e):(xr=t,t=en)):(xr=t,t=en)),t}function U(){var t,e,r,u,i,o,s,c,l;return t=xr,n.substr(xr,8)===Ke?(e=Ke,xr+=8):(e=Z,0===jr&&a(We)),e!==Z?(r=I(),r!==Z?(Ar=t,e=Ge(),t=e):(xr=t,t=en)):(xr=t,t=en),t===Z&&(t=xr,e=xr,r=xr,u=T(),u!==Z?(i=xr,46===n.charCodeAt(xr)?(o=He,xr++):(o=Z,0===jr&&a(Je)),o!==Z?(s=T(),s!==Z?(o=[o,s],i=o):(xr=i,i=en)):(xr=i,i=en),i===Z&&(i=sn),i!==Z?(o=xr,Qe.test(n.charAt(xr))?(s=n.charAt(xr),xr++):(s=Z,0===jr&&a(Xe)),s!==Z?(Ye.test(n.charAt(xr))?(c=n.charAt(xr),xr++):(c=Z,0===jr&&a(Ze)),c===Z&&(c=sn),c!==Z?(l=T(),l!==Z?(s=[s,c,l],o=s):(xr=o,o=en)):(xr=o,o=en)):(xr=o,o=en),o===Z&&(o=sn),o!==Z?(u=[u,i,o],r=u):(xr=r,r=en)):(xr=r,r=en)):(xr=r,r=en),r!==Z&&(r=n.substring(e,xr)),e=r,e!==Z&&(Ar=t,e=tr(e)),t=e),t}function T(){var t,e,r;if(t=xr,e=[],nr.test(n.charAt(xr))?(r=n.charAt(xr),xr++):(r=Z,0===jr&&a(er)),r!==Z)for(;r!==Z;)e.push(r),nr.test(n.charAt(xr))?(r=n.charAt(xr),xr++):(r=Z,0===jr&&a(er));else e=en;return e!==Z&&(e=n.substring(t,xr)),t=e}function L(){var t,e,r,u;if(t=xr,34===n.charCodeAt(xr)?(e=rr,xr++):(e=Z,0===jr&&a(ur)),e!==Z){for(r=[],u=N();u!==Z;)r.push(u),u=N();r!==Z?(34===n.charCodeAt(xr)?(u=rr,xr++):(u=Z,0===jr&&a(ur)),u!==Z?(Ar=t,e=ir(r),t=e):(xr=t,t=en)):(xr=t,t=en)}else xr=t,t=en;return t}function N(){var t,e;return t=xr,n.substr(xr,2)===or?(e=or,xr+=2):(e=Z,0===jr&&a(sr)),e!==Z&&(Ar=t,e=ar()),t=e,t===Z&&(cr.test(n.charAt(xr))?(t=n.charAt(xr),xr++):(t=Z,0===jr&&a(lr))),t}function B(){var t,e,r,u,i,o;if(t=xr,e=xr,r=xr,jr++,u=D(),jr--,u===Z?r=fr:(xr=r,r=en),r!==Z)if(pr.test(n.charAt(xr))?(u=n.charAt(xr),xr++):(u=Z,0===jr&&a(hr)),u!==Z){for(i=[],dr.test(n.charAt(xr))?(o=n.charAt(xr),xr++):(o=Z,0===jr&&a(vr));o!==Z;)i.push(o),dr.test(n.charAt(xr))?(o=n.charAt(xr),xr++):(o=Z,0===jr&&a(vr));i!==Z?(r=[r,u,i],e=r):(xr=e,e=en)}else xr=e,e=en;else xr=e,e=en;return e!==Z&&(e=n.substring(t,xr)),t=e}function D(){var t,e,r;return t=xr,n.substr(xr,4)===qe?(e=qe,xr+=4):(e=Z,0===jr&&a(Ue)),e!==Z?(r=I(),r!==Z?(e=[e,r],t=e):(xr=t,t=en)):(xr=t,t=en),t===Z&&(t=xr,n.substr(xr,4)===Le?(e=Le,xr+=4):(e=Z,0===jr&&a(Ne)),e!==Z?(r=I(),r!==Z?(e=[e,r],t=e):(xr=t,t=en)):(xr=t,t=en),t===Z&&(t=xr,n.substr(xr,5)===De?(e=De,xr+=5):(e=Z,0===jr&&a(Ie)),e!==Z?(r=I(),r!==Z?(e=[e,r],t=e):(xr=t,t=en)):(xr=t,t=en),t===Z&&(t=xr,n.substr(xr,8)===Ke?(e=Ke,xr+=8):(e=Z,0===jr&&a(We)),e!==Z?(r=I(),r!==Z?(e=[e,r],t=e):(xr=t,t=en)):(xr=t,t=en),t===Z&&(t=xr,n.substr(xr,2)===un?(e=un,xr+=2):(e=Z,0===jr&&a(on)),e!==Z?(r=I(),r!==Z?(e=[e,r],t=e):(xr=t,t=en)):(xr=t,t=en),t===Z&&(t=xr,n.substr(xr,4)===an?(e=an,xr+=4):(e=Z,0===jr&&a(cn)),e!==Z?(r=I(),r!==Z?(e=[e,r],t=e):(xr=t,t=en)):(xr=t,t=en),t===Z&&(t=xr,n.substr(xr,3)===fn?(e=fn,xr+=3):(e=Z,0===jr&&a(pn)),e!==Z?(r=I(),r!==Z?(e=[e,r],t=e):(xr=t,t=en)):(xr=t,t=en),t===Z&&(t=xr,n.substr(xr,3)===dn?(e=dn,xr+=3):(e=Z,0===jr&&a(vn)),e!==Z?(r=I(),r!==Z?(e=[e,r],t=e):(xr=t,t=en)):(xr=t,t=en),t===Z&&(t=xr,n.substr(xr,2)===yn?(e=yn,xr+=2):(e=Z,0===jr&&a(bn)),e!==Z?(r=I(),r!==Z?(e=[e,r],t=e):(xr=t,t=en)):(xr=t,t=en),t===Z&&(t=xr,n.substr(xr,5)===mn?(e=mn,xr+=5):(e=Z,0===jr&&a(xn)),e!==Z?(r=I(),r!==Z?(e=[e,r],t=e):(xr=t,t=en)):(xr=t,t=en),t===Z&&(t=xr,n.substr(xr,3)===wn?(e=wn,xr+=3):(e=Z,0===jr&&a(Cn)),e!==Z?(r=I(),r!==Z?(e=[e,r],t=e):(xr=t,t=en)):(xr=t,t=en),t===Z&&(t=xr,n.substr(xr,4)===Rn?(e=Rn,xr+=4):(e=Z,0===jr&&a(zn)),e!==Z?(r=I(),r!==Z?(e=[e,r],t=e):(xr=t,t=en)):(xr=t,t=en),t===Z&&(t=xr,n.substr(xr,3)===Hn?(e=Hn,xr+=3):(e=Z,0===jr&&a(Jn)),e!==Z?(r=I(),r!==Z?(e=[e,r],t=e):(xr=t,t=en)):(xr=t,t=en),t===Z&&(t=xr,n.substr(xr,2)===Xn?(e=Xn,xr+=2):(e=Z,0===jr&&a(Yn)),e!==Z?(r=I(),r!==Z?(e=[e,r],t=e):(xr=t,t=en)):(xr=t,t=en),t===Z&&(t=xr,n.substr(xr,3)===te?(e=te,xr+=3):(e=Z,0===jr&&a(ne)),e!==Z?(r=I(),r!==Z?(e=[e,r],t=e):(xr=t,t=en)):(xr=t,t=en))))))))))))))),t}function I(){var t,e;return t=xr,jr++,pr.test(n.charAt(xr))?(e=n.charAt(xr),xr++):(e=Z,0===jr&&a(hr)),jr--,e===Z?t=fr:(xr=t,t=en),t}function V(){var t,e;for(t=[],yr.test(n.charAt(xr))?(e=n.charAt(xr),xr++):(e=Z,0===jr&&a(br));e!==Z;)t.push(e),yr.test(n.charAt(xr))?(e=n.charAt(xr),xr++):(e=Z,0===jr&&a(br));return t}function K(){var t,e,r,u;if(t=[],e=xr,r=V(),r!==Z?(gr.test(n.charAt(xr))?(u=n.charAt(xr),xr++):(u=Z,0===jr&&a(mr)),u!==Z?(r=[r,u],e=r):(xr=e,e=en)):(xr=e,e=en),e!==Z)for(;e!==Z;)t.push(e),e=xr,r=V(),r!==Z?(gr.test(n.charAt(xr))?(u=n.charAt(xr),xr++):(u=Z,0===jr&&a(mr)),u!==Z?(r=[r,u],e=r):(xr=e,e=en)):(xr=e,e=en);else t=en;return t}function W(t,n){Object.keys(n).forEach(function(e){t[e]=n[e]})}function G(){}function H(t,n,e){n||(n=[]);for(var r,u=n.pop();r=n.shift();)t=new Pr(t,r);return null==e?new Pr(t,u):new qr(t,u,e)}function J(t,n){var e;for(n||(n=[]);e=n.shift();)t=new Lr(e[0],t,e[1]);return t}function Q(t,n){var e;for(n||(n=[]);e=n.shift();)t=new Br(e[0],t,e[1]);return t}var X,Y=arguments.length>1?arguments[1]:{},Z={},tn={start:l},nn=l,en=Z,rn=function(t){return new Or(t)},un="if",on={type:"literal",value:"if",description:'"if"'},sn=null,an="else",cn={type:"literal",value:"else",description:'"else"'},ln=function(t){return t},fn="end",pn={type:"literal",value:"end",description:'"end"'},hn=function(t,n,e){return new kr(t,n,e)},dn="for",vn={type:"literal",value:"for",description:'"for"'},yn="in",bn={type:"literal",value:"in",description:'"in"'},gn=function(t,n,e){return new Fr(t,n,e)},mn="begin",xn={type:"literal",value:"begin",description:'"begin"'},An=function(t,n){return new Sr(t,n)},wn="let",Cn={type:"literal",value:"let",description:'"let"'},$n="[",_n={type:"literal",value:"[",description:'"["'},jn="]",En={type:"literal",value:"]",description:'"]"'},On=function(t){return t},kn="=",Fn={type:"literal",value:"=",description:'"="'},Sn=function(t,n,e){return 0==n.length?new Mr(t,e):H(new zr(t),n,e)},Rn="call",zn={type:"literal",value:"call",description:'"call"'},Mn=function(t){return t},Pn=function(t){return new zr(t)},qn=function(t,n){return new Rr(t,n)},Un="--",Tn={type:"literal",value:"--",description:'"--"'},Ln=/^[^\n]/,Nn={type:"class",value:"[^\\n]",description:"[^\\n]"},Bn=function(t){return new Tr(t)},Dn=",",In={type:"literal",value:",",description:'","'},Vn=function(t){return t},Kn=function(t,n){return[t].concat(n)},Wn=function(t,n){return[t,n]},Gn=function(t,n){return J(t,n)},Hn="and",Jn={type:"literal",value:"and",description:'"and"'},Qn=function(){return"and"},Xn="or",Yn={type:"literal",value:"or",description:'"or"'},Zn=function(){return"or"},te="not",ne={type:"literal",value:"not",description:'"not"'},ee=function(t){return new Lr("not",null,t)},re=function(t,n,e){return new Br(n,t,e)},ue="(",ie={type:"literal",value:"(",description:'"("'},oe=")",se={type:"literal",value:")",description:'")"'},ae=function(t){return t},ce="!=",le={type:"literal",value:"!=",description:'"!="'},fe="<=",pe={type:"literal",value:"<=",description:'"<="'},he="<",de={type:"literal",value:"<",description:'"<"'},ve=">=",ye={type:"literal",value:">=",description:'">="'},be=">",ge={type:"literal",value:">",description:'">"'},me=function(t,n){return Q(t,n)},xe="+",Ae={type:"literal",value:"+",description:'"+"'},we="-",Ce={type:"literal",value:"-",description:'"-"'},$e="*",_e={type:"literal",value:"*",description:'"*"'},je="/",Ee={type:"literal",value:"/",description:'"/"'},Oe="%",ke={type:"literal",value:"%",description:'"%"'},Fe=function(t,n){return new Ur(Er(n).unaryops[t](n))},Se=function(t,n){return new Dr(t,n)},Re=function(t){return t},ze=function(t,n){return 0==n.length?new zr(t):H(new zr(t),n)},Me=function(t){return new Ur(t)},Pe=function(t){return t},qe="none",Ue={type:"literal",value:"none",description:'"none"'},Te=function(){return null},Le="true",Ne={type:"literal",value:"true",description:'"true"'},Be=function(){return!0},De="false",Ie={type:"literal",value:"false",description:'"false"'},Ve=function(){return!1},Ke="infinity",We={type:"literal",value:"infinity",description:'"infinity"'},Ge=function(){return 1/0},He=".",Je={type:"literal",value:".",description:'"."'},Qe=/^[eE]/,Xe={type:"class",value:"[eE]",description:"[eE]"},Ye=/^[\-+]/,Ze={type:"class",value:"[\\-+]",description:"[\\-+]"},tr=function(t){return parseFloat(t)},nr=/^[0-9]/,er={type:"class",value:"[0-9]",description:"[0-9]"},rr='"',ur={type:"literal",value:'"',description:'"\\""'},ir=function(t){return t.join("")},or='""',sr={type:"literal",value:'""',description:'"\\"\\""'},ar=function(){return'"'},cr=/^[^"]/,lr={type:"class",value:'[^"]',description:'[^"]'},fr=void 0,pr=/^[a-z_]/i,hr={type:"class",value:"[a-z_]i",description:"[a-z_]i"},dr=/^[a-z0-9_]/i,vr={type:"class",value:"[a-z0-9_]i",description:"[a-z0-9_]i"},yr=/^[ \t]/,br={type:"class",value:"[ \\t]",description:"[ \\t]"},gr=/^[\n;]/,mr={type:"class",value:"[\\n;]",description:"[\\n;]"},xr=0,Ar=0,wr=0,Cr={line:1,column:1,seenCR:!1},$r=0,_r=[],jr=0;if("startRule"in Y){if(!(Y.startRule in tn))throw new Error("Can't start parsing from rule \""+Y.startRule+'".');nn=tn[Y.startRule]}var Er=t("./start-lib")._handle;G.extend=function(t){var n=t.constructor,e=function(){this._text=r(),this._offset=u(),this._line=i(),this._column=o(),this._node=this.node,n.apply(this,arguments)};return e.prototype=Object.create(G.prototype),t.constructor=e,W(e.prototype,t),e};var Or=G.extend({node:"statements",constructor:function(t){this.stmts=t},run:function(t){this.stmts.forEach(function(n){n.run(t)})}}),kr=G.extend({node:"if_block",constructor:function(t,n,e){this.cond=t,this.tstmts=n,this.fstmts=e},run:function(t){this.cond.evaluate(t)?this.tstmts.run(t):this.fstmts&&this.fstmts.run(t)}}),Fr=G.extend({node:"for_block",constructor:function(t,n,e){this.name=t,this.range=n,this.stmts=e},run:function(t){var n=this.range.evaluate(t);Er(n).enumerate(n).forEach(function(n){t.set(this.name,n),this.stmts.run(t)},this)}}),Sr=G.extend({node:"begin_block",constructor:function(t,n){this.name=t,this.stmts=n},run:function(t){t.set(this.name,this.invoke.bind(this,t))},invoke:function(t){t.push();try{this.stmts.run(t)}finally{t.pop()}}}),Rr=G.extend({node:"funcall",constructor:function(t,n){this.target=t,this.args=n||[]},run:function(t){this.evaluate(t)},evaluate:function(t){return t.funcall(this.target.evaluate(t),"variable"==this.target.node&&this.target.name,this.args.map(function(n){return n.evaluate(t)}))}}),zr=G.extend({node:"variable",constructor:function(t){this.name=t},evaluate:function(t){return t.get(this.name)}}),Mr=G.extend({node:"assignment",constructor:function(t,n){this.name=t,this.value=n},run:function(t){t.set(this.name,this.value.evaluate(t))}}),Pr=G.extend({node:"index",constructor:function(t,n){this.base=t,this.index=n},evaluate:function(t){return t.getindex(this.base.evaluate(t),this.index.evaluate(t))}}),qr=G.extend({node:"index_assignment",constructor:function(t,n,e){this.base=t,this.index=n,this.value=e},run:function(t){t.setindex(this.base.evaluate(t),this.index.evaluate(t),this.value.evaluate(t))}}),Ur=G.extend({node:"literal",constructor:function(t){this.value=t},evaluate:function(){return this.value}}),Tr=G.extend({node:"comment",constructor:function(t){this.text=t},run:function(){}}),Lr=G.extend({node:"logical_op",constructor:function(t,n,e){this.op=t,this.left=n,this.right=e},evaluate:function(t){return Nr[this.op](t,this.left,this.right)}}),Nr={and:function(t,n,e){return n.evaluate(t)&&e.evaluate(t)},or:function(t,n,e){return n.evaluate(t)||e.evaluate(t)},not:function(t,n,e){return!e.evaluate(t)}},Br=G.extend({node:"binary_op",constructor:function(t,n,e){this.op=t,this.left=n,this.right=e},evaluate:function(t){return t.binaryop(this.op,this.left.evaluate(t),this.right.evaluate(t))}}),Dr=G.extend({node:"unary_op",constructor:function(t,n){this.op=t,this.right=n},evaluate:function(t){return t.unaryop(this.op,this.right.evaluate(t))}});if(X=nn(),X!==Z&&xr===n.length)return X;throw X!==Z&&xr<n.length&&a({type:"end",description:"end of input"}),c(null,_r,$r)}return n(e,Error),{SyntaxError:e,parse:r}}()},{"./start-lib":3}],3:[function(t,n){n.exports=function(){function t(t,n){Object.keys(n).forEach(function(e){t[e]=n[e]})}function n(){this._ns={}}function e(t){return null==t?r:t.$$start$$handler$$}t(n.prototype,{push:function(){this._ns=Object.create(this._ns)},pop:function(){this._ns=Object.getPrototypeOf(this._ns)},get:function(t){return this._ns[t]},set:function(t,n){this._ns[t]=n},unaryop:function(t,n){return e(n).unaryops[t](n)},binaryop:function(t,n,r){return e(n).binaryops[t](n,r)},getindex:function(t,n){return e(t).getindex(t,n)},setindex:function(t,n,r){e(t).setindex(t,n,r)},funcall:function(t,n,r){if(t)return t(r);if(n&&(t=r.length>0&&e(r[0]).methods[n]||l[n]))return t.apply(null,r);throw new Error("object not found or not a function")}});var r={repr:function(){return"*none*"},enumerate:function(){return[]},getindex:function(){throw new Error("object does not support []")},setindex:function(){throw new Error("object does not support [] assignment")},methods:[],unaryops:{},binaryops:{"=":function(t,n){return t==n},"!=":function(t,n){return t!=n}}},u={repr:function(t){return t?"*true*":"*false*"},enumerate:function(t){return t?[t]:[]},getindex:function(){throw new Error("object does not support []")},setindex:function(){throw new Error("object does not support [] assignment")},methods:[],unaryops:{},binaryops:{"=":function(t,n){return t==n},"!=":function(t,n){return t!=n}}};Object.defineProperty(Boolean.prototype,"$$start$$handler$$",{value:u,enumerable:!1});var i={repr:function(t){return isFinite(t)?String(t):t>0?"*infinity*":"-*infinity*"},enumerate:function(t){return[t]},getindex:function(){throw new Error("object does not support []")},setindex:function(){throw new Error("object does not support [] assignment")},methods:["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","pow","max","min"].reduce(function(t,n){return t[n]=Math[n],t},{random:function(t){return Math.random()*t},count:function(t,n,e){for(var r=[],u=t;n>=u;u+=e||1)r.push(u);return r}}),unaryops:{"+":function(t){return+t},"-":function(t){return-t}},binaryops:{"+":function(t,n){return t+n},"-":function(t,n){return t-n},"*":function(t,n){return t*n},"/":function(t,n){return t/n},"%":function(t,n){return t%n},"=":function(t,n){return t==n},"!=":function(t,n){return t!=n},"<":function(t,n){return n>t},"<=":function(t,n){return n>=t},">":function(t,n){return t>n},">=":function(t,n){return t>=n}}};Object.defineProperty(Number.prototype,"$$start$$handler$$",{value:i,enumerable:!1});var o={repr:function(t){return t},enumerate:function(t){return t.split("")},getindex:function(t,n){return t.charAt(n)},setindex:function(){throw new Error("object does not support [] assignment")},methods:{len:function(t){return t.length},find:function(t,n){return t.indexOf(n)},findlast:function(t,n){return t.lastIndexOf(n)},replace:function(t,n,e){return t.replace(n,e)},range:function(t,n,e){return t.substr(n,e)},split:function(t,n){return t.split(n||" ")},upper:function(t){return t.toUpperCase()},lower:function(t){return t.toLowerCase()}},unaryops:{},binaryops:{"+":function(t,n){return t+n},"=":function(t,n){return t==n},"!=":function(t,n){return t!=n},"<":function(t,n){return n>t},"<=":function(t,n){return n>=t},">":function(t,n){return t>n},">=":function(t,n){return t>=n}}};Object.defineProperty(String.prototype,"$$start$$handler$$",{value:o,enumerable:!1});var s={create:function(t){return 0==t.length&&t.push(0),this._buildSubArray(t)},_buildSubArray:function(t){for(var n=new Array(t[0]),e=t.slice(1),r=0;r<t[0];++r)n[r]=t.length>1?this._buildSubArray(e):null;return n},repr:function(t){var n,r,u=[];for(n=0;n<t.length;++n)r=t[n],u.push(e(r).repr(r));return"[ "+u.join(", ")+" ]"},enumerate:function(t){return t},getindex:function(t,n){return t[n]},setindex:function(t,n,e){t[n]=e},methods:{len:function(t){return t.length},find:function(t,n){return t.indexOf(n)},findlast:function(t,n){return t.lastIndexOf(n)},join:function(t,n){return t.join(n||" ")},push:function(t,n){t.push(n)},pop:function(t){return t.pop()},reverse:function(t){t.reverse()},range:function(t,n,e){return t.slice(n,n+e)},remove:function(t,n,e){return t.splice(n,e)},insert:function(t,n){t.splice.apply(t,[n,0].concat(c.slice.call(arguments,2)))},replace:function(t,n,e){return t.splice.apply(t,[n,e].concat(c.slice.call(arguments,3)))},sort:function(t){t.sort(function(t,n){var r=e(t);return r.binaryops["<"](t,n)?-1:r.binaryops[">"](t,n)?1:0})}},unaryops:{},binaryops:{"=":function(t,n){var r,u,i;if(t.length!=n.length)return!1;for(r=0;r<t.length;++r)if(u=t[r],i=n[r],!e(u).binaryops["="](u,i))return!1;return!0},"<":function(t,n){var r,u,i,o=Math.min(t.length,n.length);for(r=0;o>r;++r)if(u=t[r],i=n[r],e(u).binaryops["<"](u,i))return!0;return t.length<n.length},">":function(t,n){var r,u,i,o=Math.min(t.length,n.length);for(r=0;o>r;++r)if(u=t[r],i=n[r],e(u).binaryops[">"](u,i))return!0;return t.length>n.length},"!=":function(t,n){return!this["="](t,n)},"<=":function(t,n){return!this[">"](t,n)},">=":function(t,n){return!this["<"](t,n)}}};Object.defineProperty(Array.prototype,"$$start$$handler$$",{value:s,enumerable:!1});var a={create:function(){return{}},repr:function(t){var n,r,u,i=[],o=Object.keys(t);for(n=0;n<o.length;++n)r=o[n],u=t[r],i.push(r+": "+e(u).repr(u));return"[ "+i.join(", ")+" ]"},enumerate:function(t){return Object.keys(t)},getindex:function(t,n){return t[n]},setindex:function(t,n,e){t[n]=e},methods:{len:function(t){return Object.keys(t).length},keys:function(t){return Object.keys(t)},remove:function(t){for(var n=1;n<arguments.length;++n)delete t[arguments[n]]}},unaryops:{},binaryops:{"=":function(t,n){var r,u,i;for(r in t){if(!(r in n))return!1;if(u=t[r],i=n[r],!e(u).binaryops["="](u,i))return!1}return Object.keys(t).length==Object.keys(n).length},"!=":function(t,n){return!this["="](t,n)}}};Object.defineProperty(Object.prototype,"$$start$$handler$$",{value:a,enumerable:!1});var c=(Object.prototype,Array.prototype),l={array:function(){return s.create(c.slice.call(arguments))},table:function(){return a.create()},print:function(){arguments.length>0?c.forEach.call(arguments,function(t){console.log(e(t).repr(t))}):console.log()}},f={_handle:e,_globals:l,createEnv:function(){return new n}};return f}()},{}]},{},[1]);